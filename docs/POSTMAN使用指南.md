# Postman ä½¿ç”¨æŒ‡å— - å†œä¸šæœºå™¨äººæ§åˆ¶ç³»ç»Ÿ

## ğŸ“¦ å®‰è£…ä¿¡æ¯

| é¡¹ç›® | è¯¦æƒ… |
|------|------|
| **è½¯ä»¶åç§°** | Postman |
| **ç‰ˆæœ¬** | 11.82.6 |
| **å®‰è£…æ–¹å¼** | winget (Windows Package Manager) |
| **å®‰è£…ä½ç½®** | `%LOCALAPPDATA%\Postman\` |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3æ­¥ï¼‰

### ç¬¬1æ­¥: å¯åŠ¨ Postmanï¼ˆ1åˆ†é’Ÿï¼‰

**æ–¹å¼1ï¼šä»å¼€å§‹èœå•**
```
Windows å¼€å§‹èœå• â†’ æœç´¢ "Postman" â†’ ç‚¹å‡»å¯åŠ¨
```

**æ–¹å¼2ï¼šå‘½ä»¤è¡Œ**
```powershell
start "" "%LOCALAPPDATA%\Postman\Postman.exe"
```

**é¦–æ¬¡å¯åŠ¨**: å¯é€‰æ‹© "Skip and go to the app" è·³è¿‡ç™»å½•

### ç¬¬2æ­¥: å¯¼å…¥æµ‹è¯•é›†åˆï¼ˆ2åˆ†é’Ÿï¼‰

1. ç‚¹å‡»å·¦ä¸Šè§’ **"Import"** æŒ‰é’®ï¼ˆæˆ–æŒ‰ `Ctrl+O`ï¼‰
2. é€‰æ‹© **"Upload Files"**
3. å¯¼èˆªåˆ°é¡¹ç›®æ–‡ä»¶å¤¹ï¼š
   ```
   C:\Users\xysh_zxy\Desktop\test\robotdemo12
   ```
4. é€‰æ‹©ä»¥ä¸‹æ–‡ä»¶ï¼š
   - âœ… `å†œä¸šæœºå™¨äººAPIæµ‹è¯•é›†åˆ.postman_collection.json`
   - âœ… `å†œä¸šæœºå™¨äºº-æœ¬åœ°ç¯å¢ƒ.postman_environment.json`
5. ç‚¹å‡» **"Import"**

### ç¬¬3æ­¥: æ¿€æ´»ç¯å¢ƒ

1. ç‚¹å‡»å³ä¸Šè§’çš„ **ç¯å¢ƒé€‰æ‹©å™¨**ï¼ˆEnvironment dropdownï¼‰
2. é€‰æ‹© **"å†œä¸šæœºå™¨äºº - æœ¬åœ°å¼€å‘ç¯å¢ƒ"**
3. ç¡®è®¤å³ä¸Šè§’æ˜¾ç¤ºè¯¥ç¯å¢ƒåç§°

---

## ğŸ“‹ æµ‹è¯•é›†åˆå†…å®¹

å¯¼å…¥åå¯ç”¨çš„æµ‹è¯•è¯·æ±‚ï¼ˆå…±17ä¸ªï¼‰ï¼š

### ğŸ” ç³»ç»Ÿæ£€æŸ¥ (1ä¸ª)
- âœ… å¥åº·æ£€æŸ¥ - `GET /api/health`

### ğŸ¤– æœºå™¨äººçŠ¶æ€ (1ä¸ª)
- âœ… è·å–æœºå™¨äººçŠ¶æ€ - `GET /api/robot/status`

### ğŸ® æ§åˆ¶æŒ‡ä»¤ (5ä¸ª)
- âœ… å‰è¿› - `POST /api/robot/control` - `{"command":"forward"}`
- âœ… åé€€ - `POST /api/robot/control` - `{"command":"backward"}`
- âœ… å·¦è½¬ - `POST /api/robot/control` - `{"command":"left"}`
- âœ… å³è½¬ - `POST /api/robot/control` - `{"command":"right"}`
- âœ… åœæ­¢ - `POST /api/robot/control` - `{"command":"stop"}`

### ğŸšœ ä½œä¸šæ“ä½œ (4ä¸ª)
- âœ… çŒæº‰ - `POST /api/robot/control` - `{"action":"irrigation"}`
- âœ… æ–½è‚¥ - `POST /api/robot/control` - `{"action":"fertilize"}`
- âœ… æ‰«ææ£€æµ‹ - `POST /api/robot/control` - `{"action":"scan"}`
- âœ… æ”¶å‰² - `POST /api/robot/control` - `{"action":"harvest"}`

### ğŸ“Š æ•°æ®æŸ¥è¯¢ (3ä¸ª)
- âœ… è·å–ä¼ æ„Ÿå™¨æ•°æ® - `GET /api/sensors`
- âœ… è·å–ä»»åŠ¡åˆ—è¡¨ - `GET /api/tasks`
- âœ… è·å–ä½œä¸šç»Ÿè®¡ - `GET /api/statistics`

---

## ğŸ§ª APIæµ‹è¯•å®æˆ˜

### ç¯å¢ƒå‡†å¤‡

#### 1. ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨

```bash
# æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ
netstat -ano | findstr :3000

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨åç«¯
cd backend
npm start
```

é¢„æœŸè¾“å‡ºï¼š
```
TCP    0.0.0.0:3000    0.0.0.0:0    LISTENING
```

#### 2. ç¡®ä¿å‰ç«¯æœåŠ¡å·²å¯åŠ¨

```bash
# æ£€æŸ¥å‰ç«¯æ˜¯å¦è¿è¡Œ
netstat -ano | findstr :8080

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨å‰ç«¯
cd frontend
python -m http.server 8080
```

æµè§ˆå™¨è®¿é—®: http://localhost:8080

### GETè¯·æ±‚æµ‹è¯•ç¤ºä¾‹

#### æµ‹è¯•1: å¥åº·æ£€æŸ¥

1. å±•å¼€ **"ç³»ç»Ÿæ£€æŸ¥"** â†’ ç‚¹å‡» **"å¥åº·æ£€æŸ¥"**
2. ç‚¹å‡» **"Send"**
3. æŸ¥çœ‹å“åº”ï¼š

```json
{
  "success": true,
  "message": "Server is running",
  "timestamp": 1770003074514
}
```

#### æµ‹è¯•2: è·å–æœºå™¨äººçŠ¶æ€

1. å±•å¼€ **"æœºå™¨äººçŠ¶æ€"** â†’ ç‚¹å‡» **"è·å–æœºå™¨äººçŠ¶æ€"**
2. ç‚¹å‡» **"Send"**
3. æŸ¥çœ‹å“åº”ï¼š

```json
{
  "success": true,
  "data": {
    "battery": 76,
    "speed": 0.3,
    "temperature": 29,
    "coordinates": {
      "lat": 40.195,
      "lon": 116.399
    }
  },
  "timestamp": 1770003074514
}
```

### POSTè¯·æ±‚æµ‹è¯•ç¤ºä¾‹

#### æµ‹è¯•3: å‘é€æ§åˆ¶æŒ‡ä»¤ï¼ˆå‰è¿›ï¼‰

1. å±•å¼€ **"æ§åˆ¶æŒ‡ä»¤"** â†’ ç‚¹å‡» **"å‰è¿›"**
2. æŸ¥çœ‹ **Body** æ ‡ç­¾é¡µï¼š
   ```json
   {
     "command": "forward"
   }
   ```
3. ç‚¹å‡» **"Send"**
4. æŸ¥çœ‹å“åº”ï¼š

```json
{
  "success": true,
  "executed": true,
  "command": "forward",
  "message": "æŒ‡ä»¤å·²å‘é€: å‰è¿›",
  "timestamp": 1770003074514
}
```

5. **åŒæ—¶æŸ¥çœ‹æµè§ˆå™¨å‰ç«¯é¡µé¢**çš„æ—¥å¿—åŒºåŸŸï¼Œåº”æ˜¾ç¤ºï¼š
   ```
   11:23:45 æŒ‡ä»¤å·²å‘é€: å‰è¿›
   ```

#### æµ‹è¯•4: æ‰§è¡ŒçŒæº‰ä½œä¸š

1. å±•å¼€ **"ä½œä¸šæ“ä½œ"** â†’ ç‚¹å‡» **"çŒæº‰"**
2. æŸ¥çœ‹ **Body**ï¼š
   ```json
   {
     "action": "irrigation"
   }
   ```
3. ç‚¹å‡» **"Send"**
4. æŸ¥çœ‹å“åº”ï¼š

```json
{
  "success": true,
  "executed": true,
  "action": "irrigation",
  "message": "æ­£åœ¨æ‰§è¡Œ: çŒæº‰",
  "timestamp": 1770003074514
}
```

---

## ğŸ”„ å‰åç«¯æ•°æ®æµ

### æ•°æ®æµå‘å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â‘ è½®è¯¢è¯·æ±‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµè§ˆå™¨å‰ç«¯  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  åç«¯æœåŠ¡å™¨   â”‚
â”‚  :8080      â”‚   GET /api/robot/status   â”‚   :3000      â”‚
â”‚             â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚              â”‚
â”‚             â”‚   â‘¡è¿”å›JSONæ•°æ®            â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–²                                           â–²
      â”‚                                           â”‚
      â”‚ â‘£æ˜¾ç¤ºæ—¥å¿—                        â‘¢å‘é€æŒ‡ä»¤â”‚
      â”‚                                           â”‚
â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”          POST æ§åˆ¶æŒ‡ä»¤       â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Postman  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  åç«¯æœåŠ¡å™¨   â”‚
â”‚           â”‚   {"command":"forward"}     â”‚   :3000      â”‚
â”‚           â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚              â”‚
â”‚           â”‚   è¿”å›æ‰§è¡Œç»“æœ              â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®æ—¶è§‚å¯Ÿå‰åç«¯äº¤äº’

**æ¼”ç¤ºåœºæ™¯**ï¼šæ§åˆ¶æœºå™¨äººç§»åŠ¨

1. **å·¦ä¾§å±å¹•**: æ‰“å¼€ Postman
2. **å³ä¾§å±å¹•**: æ‰“å¼€æµè§ˆå™¨å‰ç«¯ http://localhost:8080

**æ“ä½œæ­¥éª¤**ï¼š
1. åœ¨ Postman ä¸­å¿«é€Ÿè¿ç»­å‘é€ï¼š
   - **å‰è¿›** â†’ Send
   - **å·¦è½¬** â†’ Send  
   - **å³è½¬** â†’ Send
   - **åœæ­¢** â†’ Send

2. è§‚å¯Ÿæµè§ˆå™¨æ—¥å¿—åŒºåŸŸï¼ˆå³ä¾§é¢æ¿ï¼‰ï¼š
   ```
   11:23:45 æŒ‡ä»¤å·²å‘é€: å‰è¿›
   11:23:47 æŒ‡ä»¤å·²å‘é€: å·¦è½¬
   11:23:49 æŒ‡ä»¤å·²å‘é€: å³è½¬
   11:23:51 æŒ‡ä»¤å·²å‘é€: åœæ­¢
   ```

âœ… **æˆåŠŸæ ‡å¿—**: æ¯æ¬¡ç‚¹å‡» Postman çš„ Sendï¼Œæµè§ˆå™¨ç«‹å³æ˜¾ç¤ºå¯¹åº”æ—¥å¿—

---

## ğŸ”§ Postman é«˜çº§åŠŸèƒ½

### 1. ç¯å¢ƒå˜é‡

å·²é…ç½®çš„ç¯å¢ƒå˜é‡ï¼š
- `{{base_url}}` = `http://localhost:3000`
- `{{api_prefix}}` = `/api`

ä½¿ç”¨ç¤ºä¾‹ï¼š
```
{{base_url}}{{api_prefix}}/robot/status
```

### 2. è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬

åœ¨è¯·æ±‚çš„ **Tests** æ ‡ç­¾é¡µæ·»åŠ æµ‹è¯•è„šæœ¬ï¼š

```javascript
// æ£€æŸ¥çŠ¶æ€ç æ˜¯å¦ä¸º 200
pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

// æ£€æŸ¥å“åº”æ˜¯å¦åŒ…å« success å­—æ®µ
pm.test("Response has success field", function () {
    var jsonData = pm.response.json();
    pm.expect(jsonData).to.have.property('success');
    pm.expect(jsonData.success).to.be.true;
});

// æ£€æŸ¥å“åº”æ—¶é—´
pm.test("Response time is less than 200ms", function () {
    pm.expect(pm.response.responseTime).to.be.below(200);
});
```

### 3. æ‰¹é‡è¿è¡Œæµ‹è¯•

1. ç‚¹å‡»é›†åˆåç§°æ—çš„ **"..."** æŒ‰é’®
2. é€‰æ‹© **"Run collection"**
3. ç‚¹å‡» **"Run å†œä¸šæœºå™¨äººæ§åˆ¶ç³»ç»Ÿ API"**
4. æŸ¥çœ‹æ‰€æœ‰æµ‹è¯•ç»“æœ

### 4. ä¿å­˜å“åº”ç¤ºä¾‹

å‘é€è¯·æ±‚åï¼Œç‚¹å‡» **"Save Response"** â†’ **"Save as Example"**  
å¯ä»¥ä¿å­˜æˆåŠŸçš„å“åº”ä½œä¸ºæ–‡æ¡£å‚è€ƒã€‚

---

## ğŸ“± å¿«é€Ÿå‚è€ƒå¡

### æ‰€æœ‰APIä¸€è§ˆ

#### GETè¯·æ±‚ï¼ˆæŸ¥è¯¢æ•°æ®ï¼‰

| è¯·æ±‚ | è·¯å¾„ | ç”¨é€” | å‰ç«¯å¯¹åº” |
|-----|------|------|----|
| å¥åº·æ£€æŸ¥ | `/api/health` | æ£€æµ‹æœåŠ¡çŠ¶æ€ | å³ä¸Šè§’è¿æ¥çŠ¶æ€ |
| æœºå™¨äººçŠ¶æ€ | `/api/robot/status` | ç”µé‡ã€é€Ÿåº¦ã€æ¸©åº¦ | å·¦ä¾§æœºå™¨äººçŠ¶æ€é¢æ¿ |
| ä¼ æ„Ÿå™¨æ•°æ® | `/api/sensors` | åœŸå£¤ã€å…‰ç…§æ•°æ® | å·¦ä¾§ä¼ æ„Ÿå™¨æ•°æ®é¢æ¿ |
| ä»»åŠ¡åˆ—è¡¨ | `/api/tasks` | ä»»åŠ¡çŠ¶æ€ã€è¿›åº¦ | å³ä¾§ä»»åŠ¡åˆ—è¡¨ |
| ä½œä¸šç»Ÿè®¡ | `/api/statistics` | å®Œæˆé¢ç§¯ã€è¿›åº¦ | å³ä¾§ç»Ÿè®¡é¢æ¿ |

#### POSTè¯·æ±‚ï¼ˆæ§åˆ¶æŒ‡ä»¤ï¼‰

**æ–¹å‘æ§åˆ¶**

| æŒ‡ä»¤ | Body | å“åº”æ¶ˆæ¯ |
|-----|------|---------|
| å‰è¿› | `{"command":"forward"}` | "æŒ‡ä»¤å·²å‘é€: å‰è¿›" |
| åé€€ | `{"command":"backward"}` | "æŒ‡ä»¤å·²å‘é€: åé€€" |
| å·¦è½¬ | `{"command":"left"}` | "æŒ‡ä»¤å·²å‘é€: å·¦è½¬" |
| å³è½¬ | `{"command":"right"}` | "æŒ‡ä»¤å·²å‘é€: å³è½¬" |
| åœæ­¢ | `{"command":"stop"}` | "æŒ‡ä»¤å·²å‘é€: åœæ­¢" |

**ä½œä¸šæ“ä½œ**

| æ“ä½œ | Body | å“åº”æ¶ˆæ¯ |
|-----|------|---------|
| çŒæº‰ | `{"action":"irrigation"}` | "çŒæº‰ä½œä¸šå·²å¯åŠ¨" |
| æ–½è‚¥ | `{"action":"fertilize"}` | "æ–½è‚¥ä½œä¸šå·²å¯åŠ¨" |
| æ‰«æ | `{"action":"scan"}` | "æ‰«æä½œä¸šå·²å¯åŠ¨" |
| æ”¶å‰² | `{"action":"harvest"}` | "æ”¶å‰²ä½œä¸šå·²å¯åŠ¨" |

### Postman å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|-------|------|
| `Ctrl+N` | æ–°å»ºè¯·æ±‚ |
| `Ctrl+O` | å¯¼å…¥é›†åˆ |
| `Ctrl+Enter` | å‘é€è¯·æ±‚ |
| `Ctrl+S` | ä¿å­˜è¯·æ±‚ |
| `Ctrl+/` | æœç´¢ |
| `Ctrl+Alt+C` | æ‰“å¼€Console |

---

## ğŸ› æ•…éšœæ’æŸ¥

### â“ è¿æ¥å¤±è´¥ "Could not get any response"

**åŸå› **: åç«¯æœåŠ¡æœªå¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
cd backend
npm start
```

**éªŒè¯**:
```bash
curl http://localhost:3000/api/health
# åº”è¯¥è¿”å›: {"success":true,"message":"Server is running"}
```

### â“ ç«¯å£è¢«å ç”¨

**ç—‡çŠ¶**: åç«¯å¯åŠ¨å¤±è´¥ï¼Œæç¤º `EADDRINUSE`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# Windows: æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :3000

# åœæ­¢è¿›ç¨‹
taskkill /PID <è¿›ç¨‹ID> /F
```

### â“ æµè§ˆå™¨çœ‹ä¸åˆ°æ—¥å¿—

**åŸå› **: å‰ç«¯æœåŠ¡æœªå¯åŠ¨æˆ–æœªæ‰“å¼€é¡µé¢

**è§£å†³æ–¹æ¡ˆ**:
```bash
cd frontend
python -m http.server 8080
```

æµè§ˆå™¨è®¿é—®: http://localhost:8080

### â“ æ•°æ®ä¸æ›´æ–°

**åŸå› **: æµè§ˆå™¨ç¼“å­˜

**è§£å†³**: 
- æŒ‰ `Ctrl+F5` å¼ºåˆ¶åˆ·æ–°
- æŒ‰ `F12` â†’ Console â†’ æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯

---

## ğŸ“Š æµ‹è¯•æ¸…å•

å®Œæˆä»¥ä¸‹æµ‹è¯•ï¼ŒéªŒè¯ç³»ç»ŸåŠŸèƒ½ï¼š

- [ ] å¥åº·æ£€æŸ¥æ¥å£
- [ ] è·å–æœºå™¨äººçŠ¶æ€
- [ ] å‘é€å‰è¿›æŒ‡ä»¤
- [ ] å‘é€åé€€æŒ‡ä»¤
- [ ] å‘é€å·¦è½¬æŒ‡ä»¤
- [ ] å‘é€å³è½¬æŒ‡ä»¤
- [ ] å‘é€åœæ­¢æŒ‡ä»¤
- [ ] æ‰§è¡ŒçŒæº‰ä½œä¸š
- [ ] æ‰§è¡Œæ–½è‚¥ä½œä¸š
- [ ] æ‰§è¡Œæ‰«æä½œä¸š
- [ ] æ‰§è¡Œæ”¶å‰²ä½œä¸š
- [ ] è·å–ä¼ æ„Ÿå™¨æ•°æ®
- [ ] è·å–ä»»åŠ¡åˆ—è¡¨
- [ ] è·å–ä½œä¸šç»Ÿè®¡

---

## ğŸŒŸ æ¨èå·¥ä½œæµç¨‹

### å¼€å‘è°ƒè¯•æµç¨‹

```
1. å¯åŠ¨åç«¯æœåŠ¡
   cd backend && npm start

2. æ‰“å¼€ Postman
   æµ‹è¯•æ‰€æœ‰ API ç«¯ç‚¹
   éªŒè¯å“åº”æ ¼å¼
   æ£€æŸ¥é”™è¯¯å¤„ç†

3. å¯åŠ¨å‰ç«¯æœåŠ¡
   cd frontend && python -m http.server 8080

4. æ‰“å¼€æµè§ˆå™¨
   è®¿é—® http://localhost:8080
   éªŒè¯å‰ç«¯ä¸åç«¯çš„é›†æˆ

5. å¯¹æ¯”æµ‹è¯•
   Postman æµ‹è¯•åç«¯ â†â†’ æµè§ˆå™¨æµ‹è¯•å‰ç«¯é›†æˆ
```

---

## ğŸ“ å­¦ä¹ èµ„æº

### Postman å®˜æ–¹æ–‡æ¡£
- **å®˜ç½‘**: https://www.postman.com/
- **ä¸‹è½½**: https://www.postman.com/downloads/
- **å­¦ä¹ ä¸­å¿ƒ**: https://learning.postman.com/
- **ä¸­æ–‡ç¤¾åŒº**: https://www.postman.com/community/

### å¿«æ·æ–¹å¼
- **Postman å®‰è£…ç›®å½•**: `%LOCALAPPDATA%\Postman\`
- **é¡¹ç›®æµ‹è¯•é›†åˆ**: `C:\Users\xysh_zxy\Desktop\test\robotdemo12\`

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥åç«¯æ§åˆ¶å°æ—¥å¿—
2. æŸ¥çœ‹ Postman Consoleï¼ˆView â†’ Show Postman Consoleï¼‰
3. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®
4. æŸ¥çœ‹æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰

---

**ç¥ä½ æµ‹è¯•æ„‰å¿«ï¼** ğŸ‰
